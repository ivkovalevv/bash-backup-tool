# üõ°Ô∏è Bash-backup-tool

**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ MySQL –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π**

Bash-—Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–∂–∞—Ç—ã—Ö —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö MySQL –∏ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —É–¥–∞–ª–µ–Ω–∏–µ–º —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ü–æ–ª–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö MySQL —á–µ—Ä–µ–∑ `mysqldump`
- –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –≤ —Ñ–æ—Ä–º–∞—Ç `.tbz` (bzip2)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —Å—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (700) –Ω–∞ —Ñ–∞–π–ª—ã –±—ç–∫–∞–ø–æ–≤

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –°–µ—Ä–≤–µ—Ä —Å –û–° Linux
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã:
  - `bash`
  - `mysql-client`
  - `bzip2`
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –¥–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –±—ç–∫–∞–ø–æ–≤

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤ —É–¥–æ–±–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:
```
git clone https://github.com/ivkovalevv/bash-backup-tool.git  
cd bash-backup-tool  
chmod +x backup_script.sh  
```
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞:  
```
BACKUP_DATA_DIR=/path/to/backups  # –ö—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –±—ç–∫–∞–ø—ã  
DIRECTORIES="/path/to/backup1 /path/to/backup2"  # –ß—Ç–æ –±—ç–∫–∞–ø–∏—Ä–æ–≤–∞—Ç—å  
DBUSER=root                       # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å MySQL  
PASS="–≤–∞—à_–ø–∞—Ä–æ–ª—å"                 # –ü–∞—Ä–æ–ª—å MySQL (–∑–∞–º–µ–Ω–∏—Ç–µ!)  
DAYS_TO_STORE=30                  # –•—Ä–∞–Ω–∏—Ç—å –±—ç–∫–∞–ø—ã N –¥–Ω–µ–π  
```
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:  
```
./backup_script.sh
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞
/backups/storage/
‚îî‚îÄ‚îÄ 24.01.15__14:30:22/
    ‚îú‚îÄ‚îÄ all.sql.tbz          # –î–∞–º–ø –≤—Å–µ—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
    ‚îú‚îÄ‚îÄ var_www.tbz          # –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π /var/www
    ‚îî‚îÄ‚îÄ etc_nginx.tbz        # –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π /etc/nginx

---

üíª **–ê–≤—Ç–æ—Ä**: [–ò–≤–∞–Ω –ö–æ–≤–∞–ª–µ–≤](https://kovalev-site.ru)  
üì© **–°–≤—è–∑—å**: [Telegram](https://t.me/x_kovalev) | [–ü–æ—á—Ç–∞](mailto:ivkovalevv@gmail.ru)
